<div class="row">
  <div class="col-md-5">
    <% if @product.image.attached? %>
      <%= image_tag @product.image.variant(resize_to_limit: [600, 600]), class: 'img-fluid rounded' %>
    <% else %>
      <div class="bg-secondary d-flex align-items-center justify-content-center rounded" style="height: 350px;">
        <i class="bi bi-image text-white" style="font-size: 5rem;"></i>
      </div>
    <% end %>
  </div>

  <div class="col-md-7">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><%= link_to 'Home', root_path %></li>
        <li class="breadcrumb-item"><%= link_to @product.category.name, category_path(@product.category) %></li>
        <li class="breadcrumb-item active"><%= @product.name %></li>
      </ol>
    </nav>

    <h1><%= @product.name %></h1>
    <p class="badge bg-secondary"><%= @product.category.name %></p>
    <% @product.tags.each do |tag| %>
      <span class="badge bg-info"><%= tag.name %></span>
    <% end %>
    <p class="lead mt-3"><%= @product.description %></p>

    <div class="mt-4">
      <h2 class="text-success">$<%= number_with_precision(@product.unit_price, precision: 2) %></h2>
      <p class="text-muted">
        <% if @product.stock_quantity > 0 %>
          <i class="bi bi-check-circle text-success"></i> In Stock (<%= @product.stock_quantity %> available)
        <% else %>
          <i class="bi bi-x-circle text-danger"></i> Out of Stock
        <% end %>
      </p>
    </div>

    <div class="mt-4">
      <%= button_to add_to_cart_path(@product), method: :get, class: 'btn btn-success btn-lg' do %>
        <i class="bi bi-cart-plus"></i> Add to Cart
      <% end %>
      <%= link_to 'Back to Products', products_path, class: 'btn btn-outline-secondary btn-lg' %>
    </div>
  </div>
</div>